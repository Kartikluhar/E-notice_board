{% extends 'base.html' %}
{% comment %} department_list.html {% endcomment %}

{% block title %}
  Department List | E-Notice Board
{% endblock %}

{% block content %}
<section class="py-5">
  <div class="container">
    <!-- Page Title -->
    <h1 class="text-center mb-2" style="color:#004b87;">
      Department List
    </h1>
    <p class="text-center text-muted mb-5">
      Manage all departments here
    </p>

    <!-- Top Buttons -->
    <div class="d-flex flex-wrap justify-content-center gap-3 mb-5">
      <a
        href="{% url 'add_department' %}"
        class="btn btn-outline-primary"
      >
        + Add New Department
      </a>
      <a
        href="{% url 'admin_dboard' %}"
        class="btn btn-outline-info"
      >
        Back to Dashboard
      </a>
    </div>

    <!-- Department Table Card -->
    <div class="card">
      <div
        class="card-header d-flex justify-content-between align-items-center"
        style="background-color:#e0f0ff;"
      >
        <h5 class="mb-0" style="color:#004b87;">
          All Departments
        </h5>
        <a
          href="{% url 'add_department' %}"
          class="btn btn-sm btn-primary"
        >
          + Add Department
        </a>
      </div>

      <div class="table-responsive">
        <table class="table table-striped table-hover mb-0">
          <thead>
            <tr>
              <th>Department Name</th>
              <th>Department Code</th>
              <th class="text-center">Actions</th>
            </tr>
          </thead>
          <tbody>
            {% for dept in departments %}
              <tr>
                <td>{{ dept.d_name }}</td>
                <td>{{ dept.d_code }}</td>
                <td class="text-center">
                  <a
                    href="{% url 'update_department' dept.id %}"
                    class="btn btn-sm btn-info me-2"
                  >
                    Edit
                  </a>
                  <a
                    href="{% url 'delete_department' dept.id %}"
                    class="btn btn-sm btn-danger"
                  >
                    Delete
                  </a>
                </td>
              </tr>
            {% empty %}
              <tr>
                <td colspan="3" class="text-center">
                  No departments available.
                </td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>
</section>
{% endblock %}
